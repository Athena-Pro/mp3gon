# mp3gon
A *very* unique dual mp3 processor/synthesizer

# Sonic Geometer

An experimental web application for exploring geometric and algorithmic sound transformation. Sonic Geometer allows you to deconstruct and recombine audio files in unique ways, creating entirely new sonic textures and soundscapes.

Featuring a suite of advanced transformation algorithms, real-time microphone input, a unique 3D "MP3gon" audio visualizer, and an AI-powered creative assistant to help you name your creations.

---

## Features

-   **12 Advanced Transformation Methods:**
    -   **Amplitude Mapping:** Applies the volume envelope of the source to the target.
    -   **Spectral Shaping:** Reshapes the frequency content of the target to match the source.
    -   **Rhythmic Gating:** Triggers the target sound using the rhythmic attacks of the source.
    -   **Convolution Morphing:** Imprints the sonic character and resonance of the source onto the target.
    -   **Time Scale Warping:** Matches the target's rhythm to the source's groove by time-stretching.
    -   **Surface Translation:** Uses the source's waveform to re-sequence the target's sonic texture.
    -   **Fourier Masking:** Combines the source's frequency power with the target's phase information.
    -   **Harmonic Imprinting:** Resonates the target using the source's key musical frequencies.
    -   **Interference Echoes:** The source's rhythm triggers cascading, interactive echoes of the target.
    -   **Formant Shifting:** Imprints the "vocal" or vowel character of the source onto the target.
    -   **Dynamic Ring Modulation:** The source's volume controls the frequency of a metallic modulator effect on the target.
    -   **Transformation Morphing:** Create a seamless blend between the results of any two other transformations.
-   **MP3gon 3D Visualizer:** See the unique geometric form of your audio files. Every sound generates a one-of-a-kind 3D model based on its time, frequency, and amplitude data, which you can interact with.
-   **Live Processing:** Use your microphone as a real-time audio source to dynamically transform a target sound.
-   **AI Creative Assistant:** Powered by the Google Gemini API, the assistant can generate creative and evocative names for your new soundscapes.
-   **Interactive Controls:** Fine-tune the results with sliders for each transformation's unique parameters.

---

## Environment Setup

1. Copy `.env.example` to `.env.local`.
2. Set `GEMINI_API_KEY` in `.env.local` to enable the AI Creative Assistant.

The `.env.local` file is ignored by Git and should not be committed.

## How to Use

1.  **Select a Source:**
    -   Click **File** to upload a source audio file (e.g., a drum loop, a vocal sample).
    -   Click **Live** to use your microphone as the source input.
2.  **Upload a Target:**
    -   In the **Target Audio** box, upload the sound you want to modify (e.g., a synth pad, an ambient recording).
3.  **Choose a Transformation:**
    -   Select one of the transformation methods from the list. Each has a unique way of combining the source and target.
4.  **Adjust Parameters:**
    -   Use the sliders that appear to tweak the behavior of the selected transformation.
5.  **Apply Transformation:**
    -   Click the **Apply Transformation** (or **Start Live Processing**) button.
6.  **Explore the Result:**
    -   The transformed audio will appear in the **Transformation Result** section.
    -   Explore the **MP3gon** 3D model of your new sound.
    -   Use the audio players to compare the original and modified sounds.
    -   Click **Download Result** to save your creation as a `.wav` file.
7.  **Get Creative:**
    -   Stuck on a name? Click **Generate Sound Names** to get suggestions from the AI Creative Assistant.

---

## The MP3gon: Axioms and Definition

The 3D models generated by this application are called "mp3gons". They are unique geometric objects defined by the following rules:

**Rule 1: The Bounded Form (Time)**
-   **Statement:** The mp3gon exists along a finite time axis Z of length T, where T is the total duration of the audio in seconds.
-   **Mapping:** Z ∈ [0, T]. Z=0 represents the first audio frame; Z=T represents the last.
-   **Geometric Consequence:** The mp3gon is a finite prism-like solid with two end-caps—the opening waveform and the closing waveform.

**Rule 2: The Evolving Surface (Frequency)**
-   **Statement:** At each point in time z, the cross-section is a frequency-amplitude profile of the sound.
-   **Mapping:** The X-axis represents frequency (logarithmically), and the Y-axis represents normalized amplitude.
-   **Geometric Consequence:** The surface S(x, z) is defined by Y = A(f, z), where A is the instantaneous amplitude at frequency f and time z. This surface undulates according to the changing spectrum.

**Rule 3: The Absolute Ceiling (Amplitude)**
-   **Statement:** Amplitude is bounded above by the digital ceiling (0 dBFS).
-   **Mapping:** A(f, z) ≤ 1, where 1 corresponds to maximum possible amplitude.
-   **Geometric Consequence:** Any clipping in the audio produces flat-topped plateaus on the surface, directly visible in the geometry.

**Universal Definition**
An mp3gon is the unique 3D object generated by mapping the time, frequency, and amplitude content of a digital audio file into a shared coordinate frame. The mapping is bijective—every audio file produces one and only one mp3gon.

---

## The Playagon: Time-Deformed Geometry

A playagon generalizes the mp3gon by allowing the time axis to be warped during playback.

**Rule 4: Time Deformation**

- **Statement:** Playback occurs along a warped time axis \(Z'\) defined by a monotonic mapping \(T(t)\) on normalized time \(t = Z/T\).
- **Mapping:** For each output time \(z'\), the audio sample is taken from the original time \(z = T(z'/T)\).
- **Geometric Consequence:** The mp3gon surface stretches or compresses along the Z-axis according to \(T\), producing the playagon.

**Definition**

A playagon is an mp3gon whose time coordinate is reparameterized by \(T\). When \(T(t) = t\) the playagon reduces to the original mp3gon.

---

## Tech Stack

-   **Frontend:** React, TypeScript, Tailwind CSS
-   **3D Visualization:** Three.js
-   **Audio Processing:** Web Audio API, including AudioWorklets for real-time processing.
-   **AI:** Google Gemini API

## Development

### Installation

1. Ensure [Node.js](https://nodejs.org/) is installed.
2. Navigate to the `mp3gon` directory and install dependencies:

```bash
cd mp3gon
npm install
```

### Environment Variables

Create a `.env.local` file in the `mp3gon` directory and add your Gemini API key:

```bash
GEMINI_API_KEY=your_api_key_here
```

### Local Development

Run the development server:

```bash
npm run dev
```

### Build

Create an optimized production build:

```bash
npm run build
```

### Preview

Preview the production build locally:

```bash
npm run preview
```

### Production Deployment

1. Set `GEMINI_API_KEY` in your production environment.
2. Run `npm run build` to generate the `dist` directory.
3. Deploy the contents of `dist` to your preferred static host (e.g., Vercel, Netlify, or any static file server).
4. Optionally run `npm run preview` locally to verify the build before deployment.

---
*Sonic Geometer - An Experiment in Geometric Sound Transformation.*
